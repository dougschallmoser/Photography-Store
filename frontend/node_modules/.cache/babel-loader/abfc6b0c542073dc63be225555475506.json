{"ast":null,"code":"var _jsxFileName = \"/Users/dougschallmoser/Development/learning/react/14-photography-store/src/contexts/CartContext.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useReducer } from 'react';\nimport CartReducer, { tallyCart } from './CartReducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst storageItems = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];\nconst initialState = {\n  cartItems: storageItems,\n  ...tallyCart(storageItems),\n  checkout: false,\n  shipping: 0\n};\nexport const CartContext = /*#__PURE__*/createContext(initialState);\n\nconst asyncer = (dispatch, state) => action => typeof action === 'function' ? action(dispatch, state) : dispatch(action);\n\nexport const CartContextProvider = ({\n  children\n}) => {\n  _s();\n\n  const [state, dispatchBase] = useReducer(CartReducer, initialState);\n  const dispatch = asyncer(dispatchBase, state);\n\n  function addItem(item) {\n    dispatch({\n      type: 'ADD_ITEM',\n      payload: item\n    });\n  }\n\n  function removeItem(item) {\n    dispatch({\n      type: 'REMOVE_ITEM',\n      payload: item\n    });\n  }\n\n  function increaseQty(item) {\n    dispatch({\n      type: 'INCREASE_QTY',\n      payload: item\n    });\n  }\n\n  function decreaseQty(item) {\n    if (item.quantity === 1) {\n      return removeItem(item);\n    }\n\n    dispatch({\n      type: 'DECREASE_QTY',\n      payload: item\n    });\n  }\n\n  function clearCart() {\n    dispatch({\n      type: 'CLEAR_CART'\n    });\n  }\n\n  function updateCheckout(bool) {\n    dispatch({\n      type: 'CHECKOUT',\n      payload: bool\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: { ...state,\n      addItem,\n      removeItem,\n      increaseQty,\n      decreaseQty,\n      clearCart,\n      updateCheckout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartContextProvider, \"t1ElkqO49nPbEvq76Eu+gRMNORw=\");\n\n_c = CartContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"sources":["/Users/dougschallmoser/Development/learning/react/14-photography-store/src/contexts/CartContext.tsx"],"names":["React","createContext","useReducer","CartReducer","tallyCart","storageItems","localStorage","getItem","JSON","parse","initialState","cartItems","checkout","shipping","CartContext","asyncer","dispatch","state","action","CartContextProvider","children","dispatchBase","addItem","item","type","payload","removeItem","increaseQty","decreaseQty","quantity","clearCart","updateCheckout","bool"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,QAAiD,OAAjD;AACA,OAAOC,WAAP,IAAsBC,SAAtB,QAAuC,eAAvC;;AAIA,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA+BC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAA/B,GAA2E,EAAhG;AAEA,MAAMG,YAAY,GAAG;AACnBC,EAAAA,SAAS,EAAEN,YADQ;AAEnB,KAAGD,SAAS,CAACC,YAAD,CAFO;AAGnBO,EAAAA,QAAQ,EAAE,KAHS;AAInBC,EAAAA,QAAQ,EAAE;AAJS,CAArB;AAOA,OAAO,MAAMC,WAAW,gBAAGb,aAAa,CAAmBS,YAAnB,CAAjC;;AAEP,MAAMK,OAAO,GAAG,CAACC,QAAD,EAAgBC,KAAhB,KAA6CC,MAAD,IAC1D,OAAOA,MAAP,KAAkB,UAAlB,GAA+BA,MAAM,CAACF,QAAD,EAAWC,KAAX,CAArC,GAAyDD,QAAQ,CAACE,MAAD,CADnE;;AAGA,OAAO,MAAMC,mBAAmB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkC;AAAA;;AACnE,QAAM,CAACH,KAAD,EAAQI,YAAR,IAAwBnB,UAAU,CAACC,WAAD,EAAcO,YAAd,CAAxC;AAEA,QAAMM,QAAQ,GAAGD,OAAO,CAACM,YAAD,EAAeJ,KAAf,CAAxB;;AAEA,WAASK,OAAT,CAAiBC,IAAjB,EAA6B;AAC3BP,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAE,UADC;AAEPC,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID;;AAED,WAASG,UAAT,CAAoBH,IAApB,EAAgC;AAC9BP,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAE,aADC;AAEPC,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID;;AAED,WAASI,WAAT,CAAqBJ,IAArB,EAAiC;AAC/BP,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAE,cADC;AAEPC,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID;;AAED,WAASK,WAAT,CAAqBL,IAArB,EAAiC;AAC/B,QAAIA,IAAI,CAACM,QAAL,KAAkB,CAAtB,EAAyB;AACvB,aAAOH,UAAU,CAACH,IAAD,CAAjB;AACD;;AAEDP,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAE,cADC;AAEPC,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID;;AAED,WAASO,SAAT,GAAqB;AACnBd,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAE;AADC,KAAD,CAAR;AAGD;;AAED,WAASO,cAAT,CAAwBC,IAAxB,EAAuC;AACrChB,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAE,UADC;AAEPC,MAAAA,OAAO,EAAEO;AAFF,KAAD,CAAR;AAID;;AAGD,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE,EAC3B,GAAGf,KADwB;AAE3BK,MAAAA,OAF2B;AAG3BI,MAAAA,UAH2B;AAI3BC,MAAAA,WAJ2B;AAK3BC,MAAAA,WAL2B;AAM3BE,MAAAA,SAN2B;AAO3BC,MAAAA;AAP2B,KAA7B;AAAA,cASGX;AATH;AAAA;AAAA;AAAA;AAAA,UADF;AAaD,CAhEM;;GAAMD,mB;;KAAAA,mB","sourcesContent":["import React, { createContext, useReducer } from 'react';\nimport CartReducer, { tallyCart } from './CartReducer';\nimport { ApplicationState, Item, ChildrenProps } from '../types';\n\n\nconst storageItems = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')!) : []\n\nconst initialState = {\n  cartItems: storageItems,\n  ...tallyCart(storageItems),\n  checkout: false,\n  shipping: 0\n}\n\nexport const CartContext = createContext<ApplicationState>(initialState);\n\nconst asyncer = (dispatch: any, state: ApplicationState) => (action: any) =>\n  typeof action === 'function' ? action(dispatch, state) : dispatch(action);\n\nexport const CartContextProvider = ({ children }: ChildrenProps ) => {\n  const [state, dispatchBase] = useReducer(CartReducer, initialState)\n\n  const dispatch = asyncer(dispatchBase, state)\n\n  function addItem(item: Item) {\n    dispatch({\n      type: 'ADD_ITEM',\n      payload: item\n    })\n  }\n  \n  function removeItem(item: Item) {\n    dispatch({\n      type: 'REMOVE_ITEM',\n      payload: item\n    })\n  }\n\n  function increaseQty(item: Item) {\n    dispatch({\n      type: 'INCREASE_QTY',\n      payload: item\n    })\n  }\n\n  function decreaseQty(item: Item) {\n    if (item.quantity === 1) {\n      return removeItem(item)\n    }\n    \n    dispatch({\n      type: 'DECREASE_QTY',\n      payload: item\n    })\n  }\n\n  function clearCart() {\n    dispatch({\n      type: 'CLEAR_CART'\n    })\n  }\n\n  function updateCheckout(bool: boolean) {\n    dispatch({\n      type: 'CHECKOUT',\n      payload: bool\n    })\n  }\n\n\n  return (\n    <CartContext.Provider value={{\n      ...state,\n      addItem,\n      removeItem,\n      increaseQty,\n      decreaseQty,\n      clearCart,\n      updateCheckout\n    }}>\n      {children}\n    </CartContext.Provider>\n  )\n}"]},"metadata":{},"sourceType":"module"}